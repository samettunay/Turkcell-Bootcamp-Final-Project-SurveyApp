@model SurveyDisplayResponse

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8 text-center">
            @using (Html.BeginForm("SubmitAnswers", "Surveys", FormMethod.Post, new { @class = "text-center" }))
            {
                <h2 class="mb-5">@Model.Name</h2>

                @for (int i = 0; i < Model.Questions.ToList().Count; i++)
                {
                    var question = Model.Questions.ToList()[i];

                    <div class="text-left mb-4">
                        <h4>@question.QuestionText</h4>

                        @if (question.QuestionType.Type == "Tek seçmeli")
                        {
                            for (int j = 0; j < question.QuestionOptions.ToList().Count; j++)
                            {
                                var option = question.QuestionOptions.ElementAt(j);

                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="Response.Answers[@i].AnswerOptionId" id="option-@j" value="@option.Id">
                                    <label class="form-check-label" for="option-@j">
                                        @option.Value
                                    </label>
                                </div>
                            }
                        }
                        else if (question.QuestionType.Type == "Çoktan seçmeli")
                        {
                            for (int j = 0; j < question.QuestionOptions.ToList().Count; j++)
                            {
                                var option = question.QuestionOptions.ElementAt(j);

                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="Response.Answers[@i].AnswerOptionIds" id="option-@j" value="@option.Id">
                                    <label class="form-check-label" for="option-@j">
                                        @option.Value
                                    </label>
                                </div>
                            }
                        }
                        else if (question.QuestionType.Type == "Tek satırlık düz metin")
                        {
                            <div class="form-group">
                                <input type="text" class="form-control" name="Response.Answers[@i].AnswerText">
                            </div>
                        }
                        else if (question.QuestionType.Type == "Değerlendirme")
                        {
                            <div class="form-group">
                                <input type="range" class="form-control-range" name="Response.Answers[@i].AnswerText" min="@question.QuestionOptions.FirstOrDefault().Value" max="@question.QuestionOptions.LastOrDefault().Value">
                            </div>
                        }
                    </div>
                }

                @Html.Hidden("Response.SurveyId", Model.Id)
                <button type="submit" class="btn btn-primary">Anketi Gönder</button>
            }
        </div>
    </div>
</div>
